
<!-- <div class="Chart">
  <canvas id="myChart" width="300" height="300"></canvas>
</div> -->

<div id="main" style="width: 600px;height:400px;"></div>


<div class="Chart_form">
  <%= form_tag charts_path, method: :get  do%>
  <%= date_field_tag :beg_date%>
  <%= date_field_tag :end_date%>
  <%= submit_tag "Submit"%>
  <% end %>
</div>

<!-- <script src="//cdn.bootcss.com/Chart.js/2.5.0/Chart.bundle.js"></script> -->

<script src="//cdn.bootcss.com/echarts/3.4.0/echarts.common.js"></script>

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {
          series : [
            {
              name: '访问来源',
              type: 'pie',
              radius: '55%',
              roseType: 'angle',
              data:[
                <%= raw @pie %>
                  // {value:235, name:'视频广告'},
                  // {value:274, name:'联盟广告'},
                  // {value:310, name:'邮件营销'},
                  // {value:335, name:'直接访问'},
                  // {value:400, name:'搜索引擎'}
              ]
            }
          ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>

<!-- <script>

var ctx = document.getElementById("myChart").getContext("2d");

var myPieChart = new Chart(ctx,{
    type: 'pie',
    data: {
      labels: <%=raw @wa.keys%> //["Red","Blue","Yellow"]
      ,
      datasets: [
          {
              data: <%= @a %> //[1, 2, 1]
              ,
              backgroundColor: [
                  "#FF6384",
                  "#36A2EB",
                  "#FFCE56",
                  "#874250",
                  "#6bba6b"
              ]
          }]
    },

    options: [
      {
        segmentShowStroke : true
      }
    ]
});

</script> -->
